Version 4
SHEET 1 5188 5916
WIRE 2288 -400 2288 -416
WIRE 2352 -400 2288 -400
WIRE 2496 -400 2496 -416
WIRE 2496 -400 2432 -400
WIRE 2368 -352 2288 -352
WIRE 2496 -352 2416 -352
WIRE 2080 -288 2080 -336
WIRE 2288 -288 2288 -352
WIRE 2288 -288 2080 -288
WIRE 2352 -288 2288 -288
WIRE 2496 -288 2496 -352
WIRE 2496 -288 2432 -288
WIRE 2816 -288 2496 -288
WIRE 2976 -288 2912 -288
WIRE 2976 -240 2976 -288
WIRE 2896 -192 2896 -240
WIRE 3296 -192 2896 -192
WIRE 3440 -192 3392 -192
WIRE 2288 -176 2288 -288
WIRE 2368 -176 2288 -176
WIRE 2496 -176 2496 -288
WIRE 2496 -176 2432 -176
WIRE 3440 -160 3440 -192
WIRE 2784 -80 2784 -128
WIRE 2800 -80 2784 -80
WIRE 2896 -80 2896 -192
WIRE 2896 -80 2880 -80
WIRE 2912 -80 2896 -80
WIRE 3136 -80 3008 -80
WIRE 3136 -16 3136 -80
WIRE 2960 16 2960 -16
WIRE 2080 32 2080 16
WIRE 2096 32 2080 32
WIRE 2208 32 2176 32
WIRE 2720 32 2208 32
WIRE 800 48 800 16
WIRE 896 48 896 16
WIRE 896 48 880 48
WIRE 4992 80 4992 64
WIRE 5008 80 4992 80
WIRE 5104 80 5104 64
WIRE 5104 80 5088 80
WIRE 896 96 864 96
WIRE 2784 96 2784 -80
WIRE 2720 112 2720 32
WIRE 2752 112 2720 112
WIRE 224 128 224 96
WIRE 384 128 384 96
WIRE 576 128 576 96
WIRE 816 128 816 96
WIRE 2960 128 2960 96
WIRE 2960 128 2816 128
WIRE 2208 144 2208 32
WIRE 2304 144 2304 128
WIRE 2320 144 2304 144
WIRE 2576 144 2400 144
WIRE 2688 144 2576 144
WIRE 2752 144 2688 144
WIRE 3344 176 3344 -128
WIRE 3728 176 3728 16
WIRE 3728 176 3616 176
WIRE 3792 176 3728 176
WIRE 3856 176 3840 176
WIRE 2576 192 2576 144
WIRE 2784 192 2784 160
WIRE 816 224 816 208
WIRE 896 224 896 96
WIRE 896 224 816 224
WIRE 224 240 224 208
WIRE 384 240 384 208
WIRE 576 240 576 208
WIRE 816 240 816 224
WIRE 3728 240 3728 176
WIRE 3840 240 3840 176
WIRE 3616 256 3616 176
WIRE 3792 256 3792 176
WIRE 2208 320 2208 208
WIRE 2448 320 2208 320
WIRE 2576 320 2576 272
WIRE 2576 320 2448 320
WIRE 2688 320 2688 144
WIRE 2768 320 2688 320
WIRE 2960 320 2960 128
WIRE 2960 320 2848 320
WIRE 3008 320 2960 320
WIRE 3136 320 3136 288
WIRE 3136 320 3088 320
WIRE 2448 336 2448 320
WIRE 3616 384 3616 320
WIRE 3728 384 3728 320
WIRE 3728 384 3616 384
WIRE 3792 384 3792 304
WIRE 3792 384 3728 384
WIRE 3840 384 3840 320
WIRE 3856 384 3840 384
WIRE 4992 464 4992 448
WIRE 5008 464 4992 464
WIRE 5104 464 5104 448
WIRE 5104 464 5088 464
WIRE 3728 528 3728 384
WIRE 2864 608 2864 592
WIRE 2976 608 2864 608
WIRE 3344 608 3344 256
WIRE 3344 608 3056 608
WIRE 3680 608 3344 608
WIRE 2096 640 2096 624
WIRE 2192 640 2096 640
WIRE 2336 640 2272 640
WIRE 2416 640 2336 640
WIRE 2800 640 2416 640
WIRE 3344 640 3344 608
WIRE 2864 656 2864 608
WIRE 2800 672 2800 640
WIRE 2832 672 2800 672
WIRE 3728 672 3728 624
WIRE 3728 672 3680 672
WIRE 2944 688 2896 688
WIRE 3168 688 2944 688
WIRE 3280 688 3248 688
WIRE 2656 704 2640 704
WIRE 2800 704 2736 704
WIRE 2832 704 2800 704
WIRE 2416 720 2416 640
WIRE 2336 736 2336 640
WIRE 2864 736 2864 720
WIRE 3344 768 3344 736
WIRE 2800 816 2800 704
WIRE 2832 816 2800 816
WIRE 2944 816 2944 688
WIRE 2944 816 2912 816
WIRE 2336 864 2336 816
WIRE 2416 864 2416 784
WIRE 2416 864 2336 864
WIRE 2416 896 2416 864
FLAG 384 240 0
FLAG 2784 192 0
FLAG 384 96 12VDC
FLAG 2784 -128 12VDC
FLAG 576 240 0
FLAG 576 96 TEMP
FLAG 2080 16 TEMP
FLAG 2304 128 12VDC
FLAG 2448 336 0
FLAG 3136 288 12VDC
FLAG 3136 -16 0
FLAG 2080 -336 12VDC
FLAG 224 96 120VAC
FLAG 224 240 NEUT
FLAG 2288 -416 120VAC
FLAG 5104 64 NEUT
FLAG 2496 -416 HEAT_LINE
FLAG 4992 64 HEAT_LINE
FLAG 816 240 0
FLAG 800 16 12VDC
FLAG 896 16 LOW_LEVEL_FLOAT
FLAG 5104 448 NEUT
FLAG 4992 448 SOL_LINE
FLAG 2096 624 LOW_LEVEL_FLOAT
FLAG 3856 176 120VAC
FLAG 3728 16 12VDC
FLAG 3680 672 0
FLAG 3856 384 SOL_LINE
FLAG 2864 592 12VDC
FLAG 2416 896 0
FLAG 2640 704 12VDC
FLAG 2864 736 0
FLAG 3344 768 0
FLAG 3440 -160 0
FLAG 2976 -240 0
SYMBOL OpAmps\\opamp2 2784 64 R0
WINDOW 3 12 100 Left 2
SYMATTR Value LM393A_TI
SYMATTR InstName U1
SYMBOL voltage 384 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage 576 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -62 237 VLeft 2
SYMATTR Value PULSE(.9 .520 20m 60m 40m 1 0 1)
SYMATTR InstName V2
SYMBOL res 2416 128 R90
WINDOW 0 0 57 VBottom 2
WINDOW 3 35 58 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 2560 176 R0
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL res 2864 304 R90
WINDOW 0 18 102 VBottom 2
WINDOW 3 35 58 VTop 2
SYMATTR InstName R3
SYMATTR Value 330k
SYMBOL res 2992 336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 33k
SYMBOL npn 2912 -16 R270
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res 2896 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 33k
SYMBOL cap 2192 144 R0
WINDOW 0 21 6 Left 2
WINDOW 3 19 52 Left 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 2192 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 56k
SYMBOL res 2944 0 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL nmos 2816 -240 R270
SYMATTR InstName M1
SYMATTR Value IRF2907Z
SYMBOL ind 2448 -304 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 225µ
SYMATTR SpiceLine Rser=250
SYMBOL sw 2448 -400 M270
SYMATTR InstName S1
SYMATTR Value RELAY
SYMBOL schottky 2432 -192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 224 112 R0
WINDOW 123 19 100 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 -59 -23 VRight 2
SYMATTR Value2 AC 120
SYMATTR Value SINE(0 120 60)
SYMATTR InstName V3
SYMBOL res 5104 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL voltage 816 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -61 227 VLeft 2
SYMATTR Value PULSE(0 12 1 10u 10u 1.2 0 1)
SYMATTR InstName V4
SYMBOL sw 896 48 M270
WINDOW 0 32 23 Left 2
WINDOW 3 39 56 Left 2
SYMATTR InstName S2
SYMATTR Value RELAY
SYMBOL res 5104 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 30
SYMBOL ind 3744 336 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 225µ
SYMATTR SpiceLine Rser=250
SYMBOL sw 3840 336 M180
SYMATTR InstName S3
SYMATTR Value RELAY
SYMBOL schottky 3632 320 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 3680 528 R0
SYMATTR InstName M2
SYMATTR Value IRF2907Z
SYMBOL res 2288 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 220k
SYMBOL res 2352 832 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 220k
SYMBOL cap 2400 720 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL OpAmps\\opamp2 2864 624 R0
WINDOW 3 26 46 Left 2
WINDOW 0 -47 13 Left 2
SYMATTR Value LM393A_TI
SYMATTR InstName U2
SYMBOL res 2640 720 R270
WINDOW 0 36 60 VTop 2
WINDOW 3 -5 54 VBottom 2
SYMATTR InstName R12
SYMATTR Value 5k
SYMBOL res 2928 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL npn 3280 640 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 3264 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 1k
SYMBOL res 3072 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 33k
SYMBOL npn 3296 -128 R270
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res 3360 272 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value 33k
TEXT 680 928 Left 1 !* LM393 VOLTAGE COMPARATOR "MACROMODEL" SUBCIRCUIT\n* CREATED USING PARTS VERSION 4.03 ON 03/07/90 AT 14:17\n* REV (N/A)\n* CONNECTIONS:      NON-INVERTING INPUT\n*                   | INVERTING INPUT\n*                   | | POSITIVE POWER SUPPLY\n*                   | | | NEGATIVE POWER SUPPLY\n*                   | | | | OPEN COLLECTOR OUTPUT\n*                   | | | | |\n.SUBCKT LM393_TI    1 2 3 4 5\n*\n  F1    9  3 V1 1\n  IEE   3  7 DC 100.0E-6\n  VI1  21  1 DC .75\n  VI2  22  2 DC .75\n  Q1    9 21  7 QIN\n  Q2    8 22  7 QIN\n  Q3    9  8  4 QMO\n  Q4    8  8  4 QMI\n.MODEL QIN PNP(IS=800.0E-18 BF=2.000E3)\n.MODEL QMI NPN(IS=800.0E-18 BF=1002)\n.MODEL QMO NPN(IS=800.0E-18 BF=1000 CJC=1E-15 TR=807.4E-9)\n  E1   10  4  9  4  1\n  V1   10 11 DC 0\n  Q5    5 11  4 QOC\n.MODEL QOC NPN(IS=800.0E-18 BF=20.29E3 CJC=1E-15 TF=942.6E-12 TR=543.8E-9)\n  DP    4  3 DX\n  RP 3  4 46.3E3\n.MODEL DX  D(IS=800.0E-18)\n*\n.ENDS\n* LM393A VOLTAGE COMPARATOR "MACROMODEL" SUBCIRCUIT\n* CREATED USING PARTS VERSION 4.03 ON 03/07/90 AT 14:17\n* REV (N/A)\n* CONNECTIONS:      NON-INVERTING INPUT\n*                   | INVERTING INPUT\n*                   | | POSITIVE POWER SUPPLY\n*                   | | | NEGATIVE POWER SUPPLY\n*                   | | | | OPEN COLLECTOR OUTPUT\n*                   | | | | |\n.SUBCKT LM393A_TI   1 2 3 4 5\n*\n  F1    9  3 V1 1\n  IEE   3  7 DC 100.0E-6\n  VI1  21  1 DC .75\n  VI2  22  2 DC .75\n  Q1    9 21  7 QIN\n  Q2    8 22  7 QIN\n  Q3    9  8  4 QMO\n  Q4    8  8  4 QMI\n.MODEL QIN PNP(IS=800.0E-18 BF=2.000E3)\n.MODEL QMI NPN(IS=800.0E-18 BF=1002)\n.MODEL QMO NPN(IS=800.0E-18 BF=1000 CJC=1E-15 TR=807.4E-9)\n  E1   10  4  9  4  1\n  V1   10 11 DC 0\n  Q5    5 11  4 QOC\n.MODEL QOC NPN(IS=800.0E-18 BF=20.29E3 CJC=1E-15 TF=942.6E-12 TR=543.8E-9)\n  DP    4  3 DX\n  RP 3  4 46.3E3\n.MODEL DX  D(IS=800.0E-18)\n*\n.ENDS
TEXT 1200 728 Left 2 !.tran 0 4000m 0 1m
TEXT -152 928 Left 2 !.model RELAY SW(Ron=.01 Roff=9999999Meg Vt=0 Vt=5)
RECTANGLE Normal 2544 -224 2240 -576 2
RECTANGLE Normal 5184 160 4912 -128 2
RECTANGLE Normal 5184 544 4912 256 2
RECTANGLE Normal 3664 432 4016 128 2
RECTANGLE Normal 1440 768 -192 -464 2
